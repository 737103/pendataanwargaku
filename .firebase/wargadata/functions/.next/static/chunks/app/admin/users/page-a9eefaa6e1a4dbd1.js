(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[733],{12543:(e,a,n)=>{"use strict";n.d(a,{A:()=>s});let s=(0,n(40157).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},38595:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>P});var s=n(95155),r=n(12115),t=n(85174),l=n(85127),i=n(90010),d=n(54165),c=n(66695),o=n(74466),u=n(59434);let h=(0,o.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function m(e){let{className:a,variant:n,...r}=e;return(0,s.jsx)("div",{className:(0,u.cn)(h({variant:n}),a),...r})}var x=n(68856),p=n(30285),j=n(75943),f=n(77223),g=n(87481),y=n(62423);function N(){let[e,a]=(0,r.useState)([]),[n,o]=(0,r.useState)(!0),[u,h]=(0,r.useState)(null),[N,v]=(0,r.useState)(null),[b,k]=(0,r.useState)(!1),[w,A]=(0,r.useState)(!1),[R,C]=(0,r.useState)(null),{toast:E}=(0,g.dj)(),D=async()=>{o(!0);try{let e=await (0,t.lo)();a(e)}catch(e){console.error("Failed to fetch users:",e),E({title:"Gagal Mengambil Data",description:"Tidak dapat mengambil daftar pengguna.",variant:"destructive"})}finally{o(!1)}};(0,r.useEffect)(()=>{D(),C(localStorage.getItem("username"))},[]);let S=e=>{h(e),k(!0)},z=e=>{v(e),A(!0)},P=async()=>{if(u)try{await (0,t.hG)(u.id),E({title:"Pengguna Dihapus",description:'Pengguna "'.concat(u.name,'" telah berhasil dihapus.')}),D()}catch(e){console.error("Failed to delete user:",e),E({title:"Gagal Menghapus",description:"Terjadi kesalahan saat menghapus pengguna.",variant:"destructive"})}finally{k(!1),h(null)}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(c.Zp,{children:[(0,s.jsx)(c.aR,{children:(0,s.jsx)(c.ZB,{children:"Daftar Pengguna"})}),(0,s.jsx)(c.Wu,{children:(0,s.jsxs)(l.XI,{children:[(0,s.jsx)(l.A0,{children:(0,s.jsxs)(l.Hj,{children:[(0,s.jsx)(l.nd,{children:"Nama"}),(0,s.jsx)(l.nd,{children:"Username"}),(0,s.jsx)(l.nd,{children:"NIK"}),(0,s.jsx)(l.nd,{children:"No. Telepon"}),(0,s.jsx)(l.nd,{children:"Alamat"}),(0,s.jsx)(l.nd,{children:"Status"}),(0,s.jsx)(l.nd,{className:"text-right",children:"Aksi"})]})}),(0,s.jsx)(l.BF,{children:n?Array.from({length:3}).map((e,a)=>(0,s.jsxs)(l.Hj,{children:[(0,s.jsx)(l.nA,{children:(0,s.jsx)(x.E,{className:"h-4 w-32"})}),(0,s.jsx)(l.nA,{children:(0,s.jsx)(x.E,{className:"h-4 w-24"})}),(0,s.jsx)(l.nA,{children:(0,s.jsx)(x.E,{className:"h-4 w-36"})}),(0,s.jsx)(l.nA,{children:(0,s.jsx)(x.E,{className:"h-4 w-28"})}),(0,s.jsx)(l.nA,{children:(0,s.jsx)(x.E,{className:"h-4 w-48"})}),(0,s.jsx)(l.nA,{children:(0,s.jsx)(x.E,{className:"h-6 w-16 rounded-full"})}),(0,s.jsx)(l.nA,{className:"text-right",children:(0,s.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,s.jsx)(x.E,{className:"h-8 w-8"}),(0,s.jsx)(x.E,{className:"h-8 w-8"})]})})]},a)):e.length>0?e.map(e=>(0,s.jsxs)(l.Hj,{children:[(0,s.jsx)(l.nA,{className:"font-medium",children:e.name}),(0,s.jsx)(l.nA,{children:e.username}),(0,s.jsx)(l.nA,{children:e.nik}),(0,s.jsx)(l.nA,{children:e.phone}),(0,s.jsx)(l.nA,{children:e.address}),(0,s.jsx)(l.nA,{children:(0,s.jsx)(m,{variant:"active"===e.status?"default":"destructive",className:"active"===e.status?"bg-green-500":"",children:e.status})}),(0,s.jsx)(l.nA,{className:"text-right",children:(0,s.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,s.jsxs)(p.$,{variant:"outline",size:"icon",onClick:()=>z(e),children:[(0,s.jsx)(j.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Edit"})]}),(0,s.jsxs)(p.$,{variant:"destructive",size:"icon",onClick:()=>S(e),disabled:e.username===R,title:e.username===R?"Tidak dapat menghapus diri sendiri":"Hapus pengguna",children:[(0,s.jsx)(f.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Hapus"})]})]})})]},e.id)):(0,s.jsx)(l.Hj,{children:(0,s.jsx)(l.nA,{colSpan:7,className:"h-24 text-center",children:"Tidak ada data pengguna."})})})]})})]}),(0,s.jsx)(i.Lt,{open:b,onOpenChange:k,children:(0,s.jsxs)(i.EO,{children:[(0,s.jsxs)(i.wd,{children:[(0,s.jsx)(i.r7,{children:"Anda Yakin?"}),(0,s.jsxs)(i.$v,{children:['Tindakan ini tidak dapat diurungkan. Ini akan menghapus pengguna "',null==u?void 0:u.name,'" secara permanen.']})]}),(0,s.jsxs)(i.ck,{children:[(0,s.jsx)(i.Zr,{children:"Batal"}),(0,s.jsx)(i.Rx,{onClick:P,children:"Hapus"})]})]})}),(0,s.jsx)(d.lG,{open:w,onOpenChange:A,children:(0,s.jsxs)(d.Cf,{className:"sm:max-w-[425px]",children:[(0,s.jsxs)(d.c7,{children:[(0,s.jsx)(d.L3,{children:"Edit Pengguna"}),(0,s.jsx)(d.rr,{children:"Lakukan perubahan pada data pengguna. Klik simpan jika sudah selesai."})]}),N&&(0,s.jsx)(y.S,{user:N,onSuccess:()=>{A(!1),v(null),D()},isEditingSelf:N.username===R})]})})]})}var v=n(35695);let b=(0,n(40157).A)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var k=n(12543),w=n(90221),A=n(62177),R=n(55594),C=n(17759),E=n(62523),D=n(50172);let S=R.z.object({name:R.z.string().min(1,"Nama tidak boleh kosong"),username:R.z.string().min(1,"Username tidak boleh kosong"),password:R.z.string().min(1,"Password tidak boleh kosong"),nik:R.z.string().min(16,"NIK harus 16 digit").max(16,"NIK harus 16 digit"),phone:R.z.string().min(10,"Nomor HP minimal 10 digit"),address:R.z.string().min(1,"Alamat tidak boleh kosong")});function z(e){let{onSuccess:a}=e,{toast:n}=(0,g.dj)(),[l,i]=(0,r.useState)(!1),d=(0,A.mN)({resolver:(0,w.u)(S),defaultValues:{name:"",username:"",password:"",nik:"",phone:"",address:""}});async function c(e){i(!0);try{let s={...e,role:"user",status:"active"};await (0,t.nu)(s),n({title:"Pengguna Ditambahkan",description:'Pengguna baru "'.concat(e.name,'" telah berhasil dibuat.')}),d.reset(),a()}catch(e){console.error("Failed to add user:",e),n({title:"Gagal Menambahkan Pengguna",description:"Terjadi kesalahan saat menyimpan pengguna baru.",variant:"destructive"})}finally{i(!1)}}return(0,s.jsx)(C.lV,{...d,children:(0,s.jsxs)("form",{onSubmit:d.handleSubmit(c),className:"space-y-4 pt-4",children:[(0,s.jsx)(C.zB,{control:d.control,name:"name",render:e=>{let{field:a}=e;return(0,s.jsxs)(C.eI,{children:[(0,s.jsx)(C.lR,{children:"Nama Lengkap"}),(0,s.jsx)(C.MJ,{children:(0,s.jsx)(E.p,{placeholder:"cth. Budi Santoso",...a})}),(0,s.jsx)(C.C5,{})]})}}),(0,s.jsx)(C.zB,{control:d.control,name:"username",render:e=>{let{field:a}=e;return(0,s.jsxs)(C.eI,{children:[(0,s.jsx)(C.lR,{children:"Username"}),(0,s.jsx)(C.MJ,{children:(0,s.jsx)(E.p,{placeholder:"cth. budi.santoso",...a})}),(0,s.jsx)(C.C5,{})]})}}),(0,s.jsx)(C.zB,{control:d.control,name:"password",render:e=>{let{field:a}=e;return(0,s.jsxs)(C.eI,{children:[(0,s.jsx)(C.lR,{children:"Password"}),(0,s.jsx)(C.MJ,{children:(0,s.jsx)(E.p,{type:"password",placeholder:"Masukkan password",...a})}),(0,s.jsx)(C.C5,{})]})}}),(0,s.jsx)(C.zB,{control:d.control,name:"nik",render:e=>{let{field:a}=e;return(0,s.jsxs)(C.eI,{children:[(0,s.jsx)(C.lR,{children:"NIK"}),(0,s.jsx)(C.MJ,{children:(0,s.jsx)(E.p,{placeholder:"Masukkan 16 digit NIK",...a})}),(0,s.jsx)(C.C5,{})]})}}),(0,s.jsx)(C.zB,{control:d.control,name:"phone",render:e=>{let{field:a}=e;return(0,s.jsxs)(C.eI,{children:[(0,s.jsx)(C.lR,{children:"Nomor Telepon"}),(0,s.jsx)(C.MJ,{children:(0,s.jsx)(E.p,{placeholder:"cth. 081234567890",...a})}),(0,s.jsx)(C.C5,{})]})}}),(0,s.jsx)(C.zB,{control:d.control,name:"address",render:e=>{let{field:a}=e;return(0,s.jsxs)(C.eI,{children:[(0,s.jsx)(C.lR,{children:"Alamat"}),(0,s.jsx)(C.MJ,{children:(0,s.jsx)(E.p,{placeholder:"cth. Jl. Pahlawan No. 10",...a})}),(0,s.jsx)(C.C5,{})]})}}),(0,s.jsxs)(p.$,{type:"submit",className:"w-full",disabled:l,children:[l&&(0,s.jsx)(D.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Tambah Pengguna"]})]})})}function P(){let e=(0,v.useRouter)(),[a,n]=(0,r.useState)(!1),[t,l]=(0,r.useState)(Date.now());return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold font-headline tracking-tight",children:"Data Pengguna"}),(0,s.jsx)("p",{className:"text-muted-foreground mt-1",children:"Berikut adalah daftar semua pengguna yang terdaftar dalam sistem."})]}),(0,s.jsxs)(d.lG,{open:a,onOpenChange:n,children:[(0,s.jsx)(d.zM,{asChild:!0,children:(0,s.jsxs)(p.$,{children:[(0,s.jsx)(b,{className:"mr-2 h-4 w-4"}),"Tambah Pengguna Baru"]})}),(0,s.jsxs)(d.Cf,{className:"sm:max-w-[425px]",children:[(0,s.jsxs)(d.c7,{children:[(0,s.jsx)(d.L3,{children:"Tambah Pengguna Baru"}),(0,s.jsx)(d.rr,{children:"Gunakan formulir di bawah ini untuk membuat akun pengguna baru."})]}),(0,s.jsx)(z,{onSuccess:()=>{n(!1),l(Date.now())}})]})]})]}),(0,s.jsx)("div",{className:"mt-8",children:(0,s.jsx)(N,{},t)}),(0,s.jsx)("div",{className:"mt-8",children:(0,s.jsxs)(p.$,{variant:"outline",onClick:()=>e.push("/admin"),children:[(0,s.jsx)(k.A,{className:"mr-2 h-4 w-4"}),"Kembali"]})})]})}},62278:(e,a,n)=>{"use strict";n.d(a,{rc:()=>H,ZD:()=>L,UC:()=>B,VY:()=>V,hJ:()=>O,ZL:()=>I,bL:()=>P,hE:()=>T,l9:()=>M});var s=n(12115),r=n(46081),t=n(6101),l=n(45821),i=n(85185),d=n(95155);s.forwardRef((e,a)=>{let{children:n,...r}=e,t=s.Children.toArray(n),l=t.find(u);if(l){let e=l.props.children,n=t.map(a=>a!==l?a:s.Children.count(e)>1?s.Children.only(null):s.isValidElement(e)?e.props.children:null);return(0,d.jsx)(c,{...r,ref:a,children:s.isValidElement(e)?s.cloneElement(e,void 0,n):null})}return(0,d.jsx)(c,{...r,ref:a,children:n})}).displayName="Slot";var c=s.forwardRef((e,a)=>{let{children:n,...r}=e;if(s.isValidElement(n)){let e=function(e){let a=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=a&&"isReactWarning"in a&&a.isReactWarning;return n?e.ref:(n=(a=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?e.props.ref:e.props.ref||e.ref}(n),l=function(e,a){let n={...a};for(let s in a){let r=e[s],t=a[s];/^on[A-Z]/.test(s)?r&&t?n[s]=(...e)=>{t(...e),r(...e)}:r&&(n[s]=r):"style"===s?n[s]={...r,...t}:"className"===s&&(n[s]=[r,t].filter(Boolean).join(" "))}return{...e,...n}}(r,n.props);return n.type!==s.Fragment&&(l.ref=a?(0,t.t)(a,e):e),s.cloneElement(n,l)}return s.Children.count(n)>1?s.Children.only(null):null});c.displayName="SlotClone";var o=({children:e})=>(0,d.jsx)(d.Fragment,{children:e});function u(e){return s.isValidElement(e)&&e.type===o}var h="AlertDialog",[m,x]=(0,r.A)(h,[l.Hs]),p=(0,l.Hs)(),j=e=>{let{__scopeAlertDialog:a,...n}=e,s=p(a);return(0,d.jsx)(l.bL,{...s,...n,modal:!0})};j.displayName=h;var f=s.forwardRef((e,a)=>{let{__scopeAlertDialog:n,...s}=e,r=p(n);return(0,d.jsx)(l.l9,{...r,...s,ref:a})});f.displayName="AlertDialogTrigger";var g=e=>{let{__scopeAlertDialog:a,...n}=e,s=p(a);return(0,d.jsx)(l.ZL,{...s,...n})};g.displayName="AlertDialogPortal";var y=s.forwardRef((e,a)=>{let{__scopeAlertDialog:n,...s}=e,r=p(n);return(0,d.jsx)(l.hJ,{...r,...s,ref:a})});y.displayName="AlertDialogOverlay";var N="AlertDialogContent",[v,b]=m(N),k=s.forwardRef((e,a)=>{let{__scopeAlertDialog:n,children:r,...c}=e,u=p(n),h=s.useRef(null),m=(0,t.s)(a,h),x=s.useRef(null);return(0,d.jsx)(l.G$,{contentName:N,titleName:w,docsSlug:"alert-dialog",children:(0,d.jsx)(v,{scope:n,cancelRef:x,children:(0,d.jsxs)(l.UC,{role:"alertdialog",...u,...c,ref:m,onOpenAutoFocus:(0,i.m)(c.onOpenAutoFocus,e=>{var a;e.preventDefault(),null==(a=x.current)||a.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,d.jsx)(o,{children:r}),(0,d.jsx)(z,{contentRef:h})]})})})});k.displayName=N;var w="AlertDialogTitle",A=s.forwardRef((e,a)=>{let{__scopeAlertDialog:n,...s}=e,r=p(n);return(0,d.jsx)(l.hE,{...r,...s,ref:a})});A.displayName=w;var R="AlertDialogDescription",C=s.forwardRef((e,a)=>{let{__scopeAlertDialog:n,...s}=e,r=p(n);return(0,d.jsx)(l.VY,{...r,...s,ref:a})});C.displayName=R;var E=s.forwardRef((e,a)=>{let{__scopeAlertDialog:n,...s}=e,r=p(n);return(0,d.jsx)(l.bm,{...r,...s,ref:a})});E.displayName="AlertDialogAction";var D="AlertDialogCancel",S=s.forwardRef((e,a)=>{let{__scopeAlertDialog:n,...s}=e,{cancelRef:r}=b(D,n),i=p(n),c=(0,t.s)(a,r);return(0,d.jsx)(l.bm,{...i,...s,ref:c})});S.displayName=D;var z=e=>{let{contentRef:a}=e,n="`".concat(N,"` requires a description for the component to be accessible for screen reader users.\n\nYou can add a description to the `").concat(N,"` by passing a `").concat(R,"` component as a child, which also benefits sighted users by adding visible context to the dialog.\n\nAlternatively, you can use your own component as a description by assigning it an `id` and passing the same value to the `aria-describedby` prop in `").concat(N,"`. If the description is confusing or duplicative for sighted users, you can use the `@radix-ui/react-visually-hidden` primitive as a wrapper around your description component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/alert-dialog");return s.useEffect(()=>{var e;document.getElementById(null==(e=a.current)?void 0:e.getAttribute("aria-describedby"))||console.warn(n)},[n,a]),null},P=j,M=f,I=g,O=y,B=k,H=E,L=S,T=A,V=C},75943:(e,a,n)=>{"use strict";n.d(a,{A:()=>s});let s=(0,n(40157).A)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]])},77223:(e,a,n)=>{"use strict";n.d(a,{A:()=>s});let s=(0,n(40157).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},90010:(e,a,n)=>{"use strict";n.d(a,{$v:()=>p,EO:()=>u,Lt:()=>d,Rx:()=>j,Zr:()=>f,ck:()=>m,r7:()=>x,wd:()=>h});var s=n(95155),r=n(12115),t=n(62278),l=n(59434),i=n(30285);let d=t.bL;t.l9;let c=t.ZL,o=r.forwardRef((e,a)=>{let{className:n,...r}=e;return(0,s.jsx)(t.hJ,{className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...r,ref:a})});o.displayName=t.hJ.displayName;let u=r.forwardRef((e,a)=>{let{className:n,...r}=e;return(0,s.jsxs)(c,{children:[(0,s.jsx)(o,{}),(0,s.jsx)(t.UC,{ref:a,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...r})]})});u.displayName=t.UC.displayName;let h=e=>{let{className:a,...n}=e;return(0,s.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-2 text-center sm:text-left",a),...n})};h.displayName="AlertDialogHeader";let m=e=>{let{className:a,...n}=e;return(0,s.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...n})};m.displayName="AlertDialogFooter";let x=r.forwardRef((e,a)=>{let{className:n,...r}=e;return(0,s.jsx)(t.hE,{ref:a,className:(0,l.cn)("text-lg font-semibold",n),...r})});x.displayName=t.hE.displayName;let p=r.forwardRef((e,a)=>{let{className:n,...r}=e;return(0,s.jsx)(t.VY,{ref:a,className:(0,l.cn)("text-sm text-muted-foreground",n),...r})});p.displayName=t.VY.displayName;let j=r.forwardRef((e,a)=>{let{className:n,...r}=e;return(0,s.jsx)(t.rc,{ref:a,className:(0,l.cn)((0,i.r)(),n),...r})});j.displayName=t.rc.displayName;let f=r.forwardRef((e,a)=>{let{className:n,...r}=e;return(0,s.jsx)(t.ZD,{ref:a,className:(0,l.cn)((0,i.r)({variant:"outline"}),"mt-2 sm:mt-0",n),...r})});f.displayName=t.ZD.displayName},90342:(e,a,n)=>{Promise.resolve().then(n.bind(n,38595))}},e=>{var a=a=>e(e.s=a);e.O(0,[992,172,320,869,192,730,448,441,684,358],()=>a(90342)),_N_E=e.O()}]);