(()=>{var e={};e.id=733,e.ids=[733],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4131:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>I});var n=s(60687),a=s(43210),t=s(18),i=s(6211),l=s(93500),o=s(63503),d=s(44493),c=s(24224),u=s(4780);let h=(0,c.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function p({className:e,variant:r,...s}){return(0,n.jsx)("div",{className:(0,u.cn)(h({variant:r}),e),...s})}var x=s(85726),m=s(29523),j=s(69861),g=s(57207),f=s(29867),v=s(86879);function b(){let[e,r]=(0,a.useState)([]),[s,c]=(0,a.useState)(!0),[u,h]=(0,a.useState)(null),[b,y]=(0,a.useState)(null),[k,N]=(0,a.useState)(!1),[w,A]=(0,a.useState)(!1),[P,C]=(0,a.useState)(null),{toast:z}=(0,f.dj)(),R=async()=>{c(!0);try{let e=await (0,t.lo)();r(e)}catch(e){console.error("Failed to fetch users:",e),z({title:"Gagal Mengambil Data",description:"Tidak dapat mengambil daftar pengguna.",variant:"destructive"})}finally{c(!1)}},M=e=>{h(e),N(!0)},S=e=>{y(e),A(!0)},I=async()=>{if(u)try{await (0,t.hG)(u.id),z({title:"Pengguna Dihapus",description:`Pengguna "${u.name}" telah berhasil dihapus.`}),R()}catch(e){console.error("Failed to delete user:",e),z({title:"Gagal Menghapus",description:"Terjadi kesalahan saat menghapus pengguna.",variant:"destructive"})}finally{N(!1),h(null)}};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(d.Zp,{children:[(0,n.jsx)(d.aR,{children:(0,n.jsx)(d.ZB,{children:"Daftar Pengguna"})}),(0,n.jsx)(d.Wu,{children:(0,n.jsxs)(i.XI,{children:[(0,n.jsx)(i.A0,{children:(0,n.jsxs)(i.Hj,{children:[(0,n.jsx)(i.nd,{children:"Nama"}),(0,n.jsx)(i.nd,{children:"Username"}),(0,n.jsx)(i.nd,{children:"NIK"}),(0,n.jsx)(i.nd,{children:"No. Telepon"}),(0,n.jsx)(i.nd,{children:"Alamat"}),(0,n.jsx)(i.nd,{children:"Status"}),(0,n.jsx)(i.nd,{className:"text-right",children:"Aksi"})]})}),(0,n.jsx)(i.BF,{children:s?Array.from({length:3}).map((e,r)=>(0,n.jsxs)(i.Hj,{children:[(0,n.jsx)(i.nA,{children:(0,n.jsx)(x.E,{className:"h-4 w-32"})}),(0,n.jsx)(i.nA,{children:(0,n.jsx)(x.E,{className:"h-4 w-24"})}),(0,n.jsx)(i.nA,{children:(0,n.jsx)(x.E,{className:"h-4 w-36"})}),(0,n.jsx)(i.nA,{children:(0,n.jsx)(x.E,{className:"h-4 w-28"})}),(0,n.jsx)(i.nA,{children:(0,n.jsx)(x.E,{className:"h-4 w-48"})}),(0,n.jsx)(i.nA,{children:(0,n.jsx)(x.E,{className:"h-6 w-16 rounded-full"})}),(0,n.jsx)(i.nA,{className:"text-right",children:(0,n.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,n.jsx)(x.E,{className:"h-8 w-8"}),(0,n.jsx)(x.E,{className:"h-8 w-8"})]})})]},r)):e.length>0?e.map(e=>(0,n.jsxs)(i.Hj,{children:[(0,n.jsx)(i.nA,{className:"font-medium",children:e.name}),(0,n.jsx)(i.nA,{children:e.username}),(0,n.jsx)(i.nA,{children:e.nik}),(0,n.jsx)(i.nA,{children:e.phone}),(0,n.jsx)(i.nA,{children:e.address}),(0,n.jsx)(i.nA,{children:(0,n.jsx)(p,{variant:"active"===e.status?"default":"destructive",className:"active"===e.status?"bg-green-500":"",children:e.status})}),(0,n.jsx)(i.nA,{className:"text-right",children:(0,n.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,n.jsxs)(m.$,{variant:"outline",size:"icon",onClick:()=>S(e),children:[(0,n.jsx)(j.A,{className:"h-4 w-4"}),(0,n.jsx)("span",{className:"sr-only",children:"Edit"})]}),(0,n.jsxs)(m.$,{variant:"destructive",size:"icon",onClick:()=>M(e),disabled:e.username===P,title:e.username===P?"Tidak dapat menghapus diri sendiri":"Hapus pengguna",children:[(0,n.jsx)(g.A,{className:"h-4 w-4"}),(0,n.jsx)("span",{className:"sr-only",children:"Hapus"})]})]})})]},e.id)):(0,n.jsx)(i.Hj,{children:(0,n.jsx)(i.nA,{colSpan:7,className:"h-24 text-center",children:"Tidak ada data pengguna."})})})]})})]}),(0,n.jsx)(l.Lt,{open:k,onOpenChange:N,children:(0,n.jsxs)(l.EO,{children:[(0,n.jsxs)(l.wd,{children:[(0,n.jsx)(l.r7,{children:"Anda Yakin?"}),(0,n.jsxs)(l.$v,{children:['Tindakan ini tidak dapat diurungkan. Ini akan menghapus pengguna "',u?.name,'" secara permanen.']})]}),(0,n.jsxs)(l.ck,{children:[(0,n.jsx)(l.Zr,{children:"Batal"}),(0,n.jsx)(l.Rx,{onClick:I,children:"Hapus"})]})]})}),(0,n.jsx)(o.lG,{open:w,onOpenChange:A,children:(0,n.jsxs)(o.Cf,{className:"sm:max-w-[425px]",children:[(0,n.jsxs)(o.c7,{children:[(0,n.jsx)(o.L3,{children:"Edit Pengguna"}),(0,n.jsx)(o.rr,{children:"Lakukan perubahan pada data pengguna. Klik simpan jika sudah selesai."})]}),b&&(0,n.jsx)(v.S,{user:b,onSuccess:()=>{A(!1),y(null),R()},isEditingSelf:b.username===P})]})})]})}var y=s(16189);let k=(0,s(82614).A)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var N=s(55817),w=s(63442),A=s(27605),P=s(45880),C=s(71669),z=s(89667),R=s(11516);let M=P.z.object({name:P.z.string().min(1,"Nama tidak boleh kosong"),username:P.z.string().min(1,"Username tidak boleh kosong"),password:P.z.string().min(1,"Password tidak boleh kosong"),nik:P.z.string().min(16,"NIK harus 16 digit").max(16,"NIK harus 16 digit"),phone:P.z.string().min(10,"Nomor HP minimal 10 digit"),address:P.z.string().min(1,"Alamat tidak boleh kosong")});function S({onSuccess:e}){let{toast:r}=(0,f.dj)(),[s,i]=(0,a.useState)(!1),l=(0,A.mN)({resolver:(0,w.u)(M),defaultValues:{name:"",username:"",password:"",nik:"",phone:"",address:""}});async function o(s){i(!0);try{let n={...s,role:"user",status:"active"};await (0,t.nu)(n),r({title:"Pengguna Ditambahkan",description:`Pengguna baru "${s.name}" telah berhasil dibuat.`}),l.reset(),e()}catch(e){console.error("Failed to add user:",e),r({title:"Gagal Menambahkan Pengguna",description:"Terjadi kesalahan saat menyimpan pengguna baru.",variant:"destructive"})}finally{i(!1)}}return(0,n.jsx)(C.lV,{...l,children:(0,n.jsxs)("form",{onSubmit:l.handleSubmit(o),className:"space-y-4 pt-4",children:[(0,n.jsx)(C.zB,{control:l.control,name:"name",render:({field:e})=>(0,n.jsxs)(C.eI,{children:[(0,n.jsx)(C.lR,{children:"Nama Lengkap"}),(0,n.jsx)(C.MJ,{children:(0,n.jsx)(z.p,{placeholder:"cth. Budi Santoso",...e})}),(0,n.jsx)(C.C5,{})]})}),(0,n.jsx)(C.zB,{control:l.control,name:"username",render:({field:e})=>(0,n.jsxs)(C.eI,{children:[(0,n.jsx)(C.lR,{children:"Username"}),(0,n.jsx)(C.MJ,{children:(0,n.jsx)(z.p,{placeholder:"cth. budi.santoso",...e})}),(0,n.jsx)(C.C5,{})]})}),(0,n.jsx)(C.zB,{control:l.control,name:"password",render:({field:e})=>(0,n.jsxs)(C.eI,{children:[(0,n.jsx)(C.lR,{children:"Password"}),(0,n.jsx)(C.MJ,{children:(0,n.jsx)(z.p,{type:"password",placeholder:"Masukkan password",...e})}),(0,n.jsx)(C.C5,{})]})}),(0,n.jsx)(C.zB,{control:l.control,name:"nik",render:({field:e})=>(0,n.jsxs)(C.eI,{children:[(0,n.jsx)(C.lR,{children:"NIK"}),(0,n.jsx)(C.MJ,{children:(0,n.jsx)(z.p,{placeholder:"Masukkan 16 digit NIK",...e})}),(0,n.jsx)(C.C5,{})]})}),(0,n.jsx)(C.zB,{control:l.control,name:"phone",render:({field:e})=>(0,n.jsxs)(C.eI,{children:[(0,n.jsx)(C.lR,{children:"Nomor Telepon"}),(0,n.jsx)(C.MJ,{children:(0,n.jsx)(z.p,{placeholder:"cth. 081234567890",...e})}),(0,n.jsx)(C.C5,{})]})}),(0,n.jsx)(C.zB,{control:l.control,name:"address",render:({field:e})=>(0,n.jsxs)(C.eI,{children:[(0,n.jsx)(C.lR,{children:"Alamat"}),(0,n.jsx)(C.MJ,{children:(0,n.jsx)(z.p,{placeholder:"cth. Jl. Pahlawan No. 10",...e})}),(0,n.jsx)(C.C5,{})]})}),(0,n.jsxs)(m.$,{type:"submit",className:"w-full",disabled:s,children:[s&&(0,n.jsx)(R.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Tambah Pengguna"]})]})})}function I(){let e=(0,y.useRouter)(),[r,s]=(0,a.useState)(!1),[t,i]=(0,a.useState)(Date.now());return(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-3xl font-bold font-headline tracking-tight",children:"Data Pengguna"}),(0,n.jsx)("p",{className:"text-muted-foreground mt-1",children:"Berikut adalah daftar semua pengguna yang terdaftar dalam sistem."})]}),(0,n.jsxs)(o.lG,{open:r,onOpenChange:s,children:[(0,n.jsx)(o.zM,{asChild:!0,children:(0,n.jsxs)(m.$,{children:[(0,n.jsx)(k,{className:"mr-2 h-4 w-4"}),"Tambah Pengguna Baru"]})}),(0,n.jsxs)(o.Cf,{className:"sm:max-w-[425px]",children:[(0,n.jsxs)(o.c7,{children:[(0,n.jsx)(o.L3,{children:"Tambah Pengguna Baru"}),(0,n.jsx)(o.rr,{children:"Gunakan formulir di bawah ini untuk membuat akun pengguna baru."})]}),(0,n.jsx)(S,{onSuccess:()=>{s(!1),i(Date.now())}})]})]})]}),(0,n.jsx)("div",{className:"mt-8",children:(0,n.jsx)(b,{},t)}),(0,n.jsx)("div",{className:"mt-8",children:(0,n.jsxs)(m.$,{variant:"outline",onClick:()=>e.push("/admin"),children:[(0,n.jsx)(N.A,{className:"mr-2 h-4 w-4"}),"Kembali"]})})]})}},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},13556:(e,r,s)=>{"use strict";s.d(r,{rc:()=>T,ZD:()=>J,UC:()=>B,VY:()=>V,hJ:()=>D,ZL:()=>q,bL:()=>I,hE:()=>G,l9:()=>E});var n=s(43210),a=s(11273),t=s(98599),i=s(10991),l=s(70569),o=s(60687);n.forwardRef((e,r)=>{let{children:s,...a}=e,t=n.Children.toArray(s),i=t.find(u);if(i){let e=i.props.children,s=t.map(r=>r!==i?r:n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null);return(0,o.jsx)(d,{...a,ref:r,children:n.isValidElement(e)?n.cloneElement(e,void 0,s):null})}return(0,o.jsx)(d,{...a,ref:r,children:s})}).displayName="Slot";var d=n.forwardRef((e,r)=>{let{children:s,...a}=e;if(n.isValidElement(s)){let e=function(e){let r=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?e.ref:(s=(r=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in r&&r.isReactWarning)?e.props.ref:e.props.ref||e.ref}(s),i=function(e,r){let s={...r};for(let n in r){let a=e[n],t=r[n];/^on[A-Z]/.test(n)?a&&t?s[n]=(...e)=>{t(...e),a(...e)}:a&&(s[n]=a):"style"===n?s[n]={...a,...t}:"className"===n&&(s[n]=[a,t].filter(Boolean).join(" "))}return{...e,...s}}(a,s.props);return s.type!==n.Fragment&&(i.ref=r?(0,t.t)(r,e):e),n.cloneElement(s,i)}return n.Children.count(s)>1?n.Children.only(null):null});d.displayName="SlotClone";var c=({children:e})=>(0,o.jsx)(o.Fragment,{children:e});function u(e){return n.isValidElement(e)&&e.type===c}var h="AlertDialog",[p,x]=(0,a.A)(h,[i.Hs]),m=(0,i.Hs)(),j=e=>{let{__scopeAlertDialog:r,...s}=e,n=m(r);return(0,o.jsx)(i.bL,{...n,...s,modal:!0})};j.displayName=h;var g=n.forwardRef((e,r)=>{let{__scopeAlertDialog:s,...n}=e,a=m(s);return(0,o.jsx)(i.l9,{...a,...n,ref:r})});g.displayName="AlertDialogTrigger";var f=e=>{let{__scopeAlertDialog:r,...s}=e,n=m(r);return(0,o.jsx)(i.ZL,{...n,...s})};f.displayName="AlertDialogPortal";var v=n.forwardRef((e,r)=>{let{__scopeAlertDialog:s,...n}=e,a=m(s);return(0,o.jsx)(i.hJ,{...a,...n,ref:r})});v.displayName="AlertDialogOverlay";var b="AlertDialogContent",[y,k]=p(b),N=n.forwardRef((e,r)=>{let{__scopeAlertDialog:s,children:a,...d}=e,u=m(s),h=n.useRef(null),p=(0,t.s)(r,h),x=n.useRef(null);return(0,o.jsx)(i.G$,{contentName:b,titleName:w,docsSlug:"alert-dialog",children:(0,o.jsx)(y,{scope:s,cancelRef:x,children:(0,o.jsxs)(i.UC,{role:"alertdialog",...u,...d,ref:p,onOpenAutoFocus:(0,l.m)(d.onOpenAutoFocus,e=>{e.preventDefault(),x.current?.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,o.jsx)(c,{children:a}),(0,o.jsx)(S,{contentRef:h})]})})})});N.displayName=b;var w="AlertDialogTitle",A=n.forwardRef((e,r)=>{let{__scopeAlertDialog:s,...n}=e,a=m(s);return(0,o.jsx)(i.hE,{...a,...n,ref:r})});A.displayName=w;var P="AlertDialogDescription",C=n.forwardRef((e,r)=>{let{__scopeAlertDialog:s,...n}=e,a=m(s);return(0,o.jsx)(i.VY,{...a,...n,ref:r})});C.displayName=P;var z=n.forwardRef((e,r)=>{let{__scopeAlertDialog:s,...n}=e,a=m(s);return(0,o.jsx)(i.bm,{...a,...n,ref:r})});z.displayName="AlertDialogAction";var R="AlertDialogCancel",M=n.forwardRef((e,r)=>{let{__scopeAlertDialog:s,...n}=e,{cancelRef:a}=k(R,s),l=m(s),d=(0,t.s)(r,a);return(0,o.jsx)(i.bm,{...l,...n,ref:d})});M.displayName=R;var S=({contentRef:e})=>{let r=`\`${b}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${b}\` by passing a \`${P}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${b}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return n.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(r)},[r,e]),null},I=j,E=g,q=f,D=v,B=N,T=z,J=M,G=A,V=C},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19771:e=>{"use strict";e.exports=require("process")},21820:e=>{"use strict";e.exports=require("os")},22820:(e,r,s)=>{Promise.resolve().then(s.bind(s,61193))},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33106:(e,r,s)=>{Promise.resolve().then(s.bind(s,52031))},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},37366:e=>{"use strict";e.exports=require("dns")},52031:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>n});let n=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/user/studio/src/app/admin/users/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/studio/src/app/admin/users/page.tsx","default")},55511:e=>{"use strict";e.exports=require("crypto")},55817:(e,r,s)=>{"use strict";s.d(r,{A:()=>n});let n=(0,s(82614).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},56666:(e,r,s)=>{Promise.resolve().then(s.bind(s,4131))},57207:(e,r,s)=>{"use strict";s.d(r,{A:()=>n});let n=(0,s(82614).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},61193:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>t});var n=s(60687),a=s(6273);function t({children:e}){return(0,n.jsx)(a.q,{role:"admin",children:(0,n.jsx)("div",{className:"min-h-screen bg-background p-4 sm:p-6 lg:p-8",children:e})})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},69861:(e,r,s)=>{"use strict";s.d(r,{A:()=>n});let n=(0,s(82614).A)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]])},73496:e=>{"use strict";e.exports=require("http2")},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},80086:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>d});var n=s(65239),a=s(48088),t=s(88170),i=s.n(t),l=s(30893),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(r,o);let d={children:["",{children:["admin",{children:["users",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,52031)),"/home/user/studio/src/app/admin/users/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,99111)),"/home/user/studio/src/app/admin/layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,94431)),"/home/user/studio/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/home/user/studio/src/app/admin/users/page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},h=new n.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/admin/users/page",pathname:"/admin/users",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},81630:e=>{"use strict";e.exports=require("http")},86879:(e,r,s)=>{"use strict";s.d(r,{S:()=>j});var n=s(60687),a=s(63442),t=s(27605),i=s(45880),l=s(43210),o=s(29523),d=s(71669),c=s(15079),u=s(89667),h=s(29867),p=s(11516),x=s(18);let m=i.z.object({name:i.z.string().min(1,"Nama tidak boleh kosong"),username:i.z.string().min(1,"Username tidak boleh kosong"),password:i.z.string().optional(),nik:i.z.string().min(16,"NIK harus 16 digit").max(16,"NIK harus 16 digit"),phone:i.z.string().min(10,"Nomor HP minimal 10 digit"),address:i.z.string().min(1,"Alamat tidak boleh kosong"),status:i.z.enum(["active","disabled"])});function j({user:e,onSuccess:r,isEditingSelf:s=!1}){let{toast:i}=(0,h.dj)(),[j,g]=(0,l.useState)(!1),f=(0,t.mN)({resolver:(0,a.u)(m),defaultValues:{name:e.name,username:e.username,password:"",nik:e.nik,phone:e.phone,address:e.address,status:e.status}});async function v(s){g(!0);try{let n={name:s.name,username:s.username,nik:s.nik,phone:s.phone,address:s.address,status:s.status};s.password&&(n.password=s.password),await (0,x.TK)(e.id,n),i({title:"Pengguna Diperbarui",description:`Data untuk "${s.name}" telah berhasil diperbarui.`}),r()}catch(e){console.error("Failed to update user:",e),i({title:"Gagal Memperbarui Pengguna",description:"Terjadi kesalahan saat menyimpan perubahan.",variant:"destructive"})}finally{g(!1)}}return(0,n.jsx)(d.lV,{...f,children:(0,n.jsxs)("form",{onSubmit:f.handleSubmit(v),className:"space-y-4 py-4",children:[(0,n.jsx)(d.zB,{control:f.control,name:"name",render:({field:e})=>(0,n.jsxs)(d.eI,{children:[(0,n.jsx)(d.lR,{children:"Nama Lengkap"}),(0,n.jsx)(d.MJ,{children:(0,n.jsx)(u.p,{placeholder:"cth. Budi Santoso",...e})}),(0,n.jsx)(d.C5,{})]})}),(0,n.jsx)(d.zB,{control:f.control,name:"username",render:({field:e})=>(0,n.jsxs)(d.eI,{children:[(0,n.jsx)(d.lR,{children:"Username"}),(0,n.jsx)(d.MJ,{children:(0,n.jsx)(u.p,{placeholder:"cth. budi.santoso",...e})}),(0,n.jsx)(d.C5,{})]})}),(0,n.jsx)(d.zB,{control:f.control,name:"password",render:({field:e})=>(0,n.jsxs)(d.eI,{children:[(0,n.jsx)(d.lR,{children:"Password Baru"}),(0,n.jsx)(d.MJ,{children:(0,n.jsx)(u.p,{type:"password",placeholder:"Kosongkan jika tidak ingin diubah",...e})}),(0,n.jsx)(d.C5,{})]})}),(0,n.jsx)(d.zB,{control:f.control,name:"nik",render:({field:e})=>(0,n.jsxs)(d.eI,{children:[(0,n.jsx)(d.lR,{children:"NIK"}),(0,n.jsx)(d.MJ,{children:(0,n.jsx)(u.p,{placeholder:"Masukkan 16 digit NIK",...e})}),(0,n.jsx)(d.C5,{})]})}),(0,n.jsx)(d.zB,{control:f.control,name:"phone",render:({field:e})=>(0,n.jsxs)(d.eI,{children:[(0,n.jsx)(d.lR,{children:"Nomor Telepon"}),(0,n.jsx)(d.MJ,{children:(0,n.jsx)(u.p,{placeholder:"cth. 081234567890",...e})}),(0,n.jsx)(d.C5,{})]})}),(0,n.jsx)(d.zB,{control:f.control,name:"address",render:({field:e})=>(0,n.jsxs)(d.eI,{children:[(0,n.jsx)(d.lR,{children:"Alamat"}),(0,n.jsx)(d.MJ,{children:(0,n.jsx)(u.p,{placeholder:"cth. Jl. Pahlawan No. 10",...e})}),(0,n.jsx)(d.C5,{})]})}),!s&&(0,n.jsx)(d.zB,{control:f.control,name:"status",render:({field:e})=>(0,n.jsxs)(d.eI,{children:[(0,n.jsx)(d.lR,{children:"Status"}),(0,n.jsxs)(c.l6,{onValueChange:e.onChange,defaultValue:e.value,children:[(0,n.jsx)(d.MJ,{children:(0,n.jsx)(c.bq,{children:(0,n.jsx)(c.yv,{placeholder:"Pilih status pengguna"})})}),(0,n.jsxs)(c.gC,{children:[(0,n.jsx)(c.eb,{value:"active",children:"Aktif"}),(0,n.jsx)(c.eb,{value:"disabled",children:"Nonaktif"})]})]}),(0,n.jsx)(d.C5,{})]})}),(0,n.jsxs)(o.$,{type:"submit",className:"w-full",disabled:j,children:[j&&(0,n.jsx)(p.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Simpan Perubahan"]})]})})}},91645:e=>{"use strict";e.exports=require("net")},92964:(e,r,s)=>{Promise.resolve().then(s.bind(s,99111))},94735:e=>{"use strict";e.exports=require("events")},99111:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>n});let n=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/user/studio/src/app/admin/layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/studio/src/app/admin/layout.tsx","default")}};var r=require("../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),n=r.X(0,[447,198,658,107,887,745,325],()=>s(80086));module.exports=n})();